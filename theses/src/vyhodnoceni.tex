\clearpage
\section{Vyhodnocení}
\def\projekt{TAČR SIGMA\_DC3 \enquote{Telemedicínské samovyšetření řeči a paměti pro rychlou detekci kognitivních poruch metodami strojového učení}}
Posledním krokem bylo ověření funkčnosti navrženého a implementovaného systému.
K tomu bylo potřeba získat vhodná data, konkrétně obrázek a k němu přirozené popisy, pokud možnost v textové podobě.
Tato data byla získána z projektu \projekt.

Popisovanou scénou byla kresba zobrazená na Obrázku~\ref{fig:summer}.
K tomuto obrázku bylo k dispozici několik přepisů, které byly použité pro účely testování.

Referenční popis daného obrázku, stejně jako SPGF gramatika a ztrátová tabulka,
byly vytvořené autorem této práce a nikoli expertem z oboru, odkud pocházejí nasbíraná data.

Hodnoty ve ztrátové tabulce je tedy třeba chápat jako ilustrační a ve výsledcích je možné srovnávat pouze relativní ztráty,
nelze dělat smysluplné závěry z konkrétních hodnot.
To však nepředstavuje problém, protože cílem zde bylo ověřit funkčnost navrženého systému, na což ilustrační hodnoty postačují.

Vytvořený referenční popis Obrázku~\ref{fig:summer} obsahuje 69 objektů a 37 vazeb mezi nimi a je možné jej prozkoumat spolu se sestavenou SPGF gramatikou u zdrojových kódů.
Ztrátová tabulka použitá při testování je na Výpisu~\ref{lst:loss_table_example}.

% \input{src/listings/loss.tex}
V Tabulce~\ref{tab:exmple_extracts} je několik vět z prvního přepisu, k nimž je vypsána množina extrahovaných objektů $\mathcal{O}$,
množina extrahovaných atributů $\mathcal A$ a množina extrahovaných vazeb $\mathcal V$.
Jak je možné na těchto ukázkách vidět, tak navržený systém je schopen z přirozeného textu extrahovat očekávané sémantické informace.
Dalším pozitivním faktem je to, že všechny extrahované informace jsou skutečně obsažené v původních promluvách a tudíž lze usoudit, že filtrační
algoritmus pro odstranění falešných detekcí funguje správně.

\input{src/table_results_detail.tex}

V Tabulce~\ref{tab:exmple_extracts} lze dále pozorovat, že nejpočetnější kategorií ve větách jsou objekty, jejichž zachycení je nejjednodušší a především jich věty také obsahují nejvíce.
Dále lze pozorovat, že detekovaný objekt \emph{swimsuit \#1} ve čtvrté větě má u sebe přiřazené číslování (v popise se vyskytují dvoje plavky, jedny červené na dívce v pozadí
a jedny bílé na ženě na lehátku).
To je významné z toho důvodu, že to značí schopnost systému rozlišit objekty stejného typu, jak bylo popsáno v sekci~\ref{subsubsec:cislovani_objektu}.

Předpokladem pro kvalitní výstup je kvalitní referenční popis a SPGF gramatika.
Oba tyto faktory jsou zcela závislé na expertovi, který vytváří jak referenční popis, tak gramatiku použitou pro extrakci sémantiky z textu.

To může představovat problém ve smyslu vysokých počátečních nákladů, protože tvorba referenčního popisu a SPGF gramatiky
vyžaduje znalost zde navrženého formátu a může být pro lidského experta časově náročná.
Naopak výhodou zvoleného přístupu je ale možnost upravovat a vylepšovat jak referenční popis, tak SPGF gramatiku i v budoucnu,
protože oba tyto vstupy jsou navržené tak, aby byly čitelné člověkem a bylo možné je v případě potřeby kdykoli upravit.

Dále tento expertní přístup a manuální správa vstupních dat umožňuje přesnou kontrolu, na rozdíl od jiných přístupů, například neuronových sítí, jejichž funkce je spíše black-box a
potřeba provést detailní změny nebo přímo kontrolovat některé aspekty procesu jsou velmi obtížné.

Celé přepisy použité pro další testování a získání ilustračních výstupů jsou následující:
\input{src/prepisy.tex}

Dále bylo pro srovnání vygenerováno ještě několik \enquote{umělých} popisu fiktivních obrázků,
které jsou záměrně sémanticky zcela rozdílné.
Generování těchto popisů bylo realizováno pomocí volně dostupného softwaru ChatGPT\footnote{\href{https://chatgpt.com/}{https://chatgpt.com/}} se vstupní úlohou
vygenerovat popis obrázku, který zobrazuje scénu na farmě, poté scénu v lese a nakonec scénu v rušném městě.

\newpage
Tyto uměle generované popisy jsou následující:
\input{src/prepisy2.tex}

Pro výše zmíněné přepisy bylo podle ztrátové tabulky (viz Výpis~\ref{lst:loss_table_example}) vypočteno hodnocení,
jehož část (zkráceno kvůli délce) je vidět v Tabulce~\ref{tab:out_values}.
Kompletní výpisy je možné prozkoumat spolu se zdrojovými kódy online.

Z Tabulky~\ref{tab:out_values} je možné vidět, že pro jednotlivé testované popisy se výstupní ztráty skutečně liší, obzvláště v prvních několika
hodnotách, které udávají ztráty pro celkově všechny chybějící objekty, atributy a triplety.
Jak již bylo zmíněno dříve, referenční popis obrázku a ztrátová tabulka byly sestavené ne-expertem, především pro účely testování.
Interpretace výsledků je tudíž obtížná, protože se může podstatně lišit od reálného nasazení, kde se předpokládá, že referenční popis a
ztrátová tabulka budou pečlivě sestavené expertem z oboru.

I přes tyto komplikace je ale možné učinit několik pozorování:
\begin{enumerate}
	\item Popisy č.~4 a 5, které jsou ve své celkové délce výrazně kratší a používají velmi strohé nerozvité věty, mají vyšší ztrátu pro chybějící vazby (triplety).
	      To odpovídá tomu, že v těchto popisech je většina obsahu pouze vyjmenovávání objektů z obrázku a téměř žádná pozornost není věnována
	      jejich vzájemným vazbám a vztahům mezi nimi.
	\item Dalším znatelným rozdílem ve výstupních hodnotách, který je možné sledovat, je značný rozdíl ztráty pro chybějící objekty s tagem \enquote{\emph{person}}.
	      To odpovídá faktu, že zmínky osob se v jednotlivých popisech skutečně výrazně liší, konkrétně pak popisy 4 a 5 zmiňují omezené množství osob z obrázku ve srovnání s prvními třemi popisy.
	\item Obdobně je možné v Tabulce~\ref{tab:out_values} pozorovat, že přepisy č.~1 a 5 mají relativně vysoké ztráty pro objekty s chybějícím tagem \enquote{\emph{animal}}.
	      Opět to odpovídá tomu, že tyto texty neobsahují tolik zmínek o zvířatech v obrázku.
	      Kontrastem může být text č.~2, který má tuto ztrátu nejnižší a skutečně je možné se přesvědčit, že v tomto textu je značná pozornost věnována popisu zvířat.
	\item Dále je možné pozorovat, že vysoké hodnoty některých ztrát jsou ve sloupcích pro uměle generované popisy \textbf{G1}, \textbf{G2}, \textbf{G3}.
	      % Tyto vysoké ztráty jsou očekávaný výsledek, vzhledem k jejich účelnému vytvoření.
	      % tyto umělé popisy byly vytvořené záměrně tak, aby popoisovaly zcela jiné obrázky a tudíž
	      % se zde použitou ilustrací na Obrázku~\ref{fig:summer} měly velmi málo společné sémantiky.
	      Především je možné pozorovat výrazně vyšší ztráty pro chybějící objekty a atributy, způsobené patrně tím, že
	      v příslušných textech se nevyskytují popisy sledovaných objektů.
	      %ty objekty, které byly sledované vytvořeným referenčním popisem.
\end{enumerate}

\input{src/final_table.tex}

\clearpage
Na závěr bylo použito všech 55 dostupných přepisů z projektu \projekt{}.
Jedná se o popisy ilustrace zobrazené na Obrázku~\ref{fig:summer}, které byly přepsány do textové podoby.

V těchto datech se vyskytovalo 30 popisů nasbíraných od osob, u kterých nebyla diagnostikována žádná kognitivní porucha.
Tato data jsou označena hlavičkou \textbf{N01} až \textbf{N30}.
Dále data obsahovala 25 popisů od osob, u nichž byla diagnostikována nějaká kognitivní porucha.
Tato data jsou označena hlavičkou \textbf{P01} až \textbf{P30}.

Cílem tohoto finálního experimentu bylo získání širšího přehledu o funkci navržených a implementovaných algoritmů.
Podle toho byly do výsledné tabulky vybrány pouze ty typy ztrát, u kterých byly hodnoty rozdílné pro různé osoby.

Pro získání zobrazených hodnot byl použit stejný referenční popis, jako během testování, tedy vytvořený autorem této práce a nikoli expertem z oboru.
Dále je třeba upozornit na to, že ztrátová tabulka byla zrovna tak sestavena pouze pro ilustrační a testovací účely a samotné numerické hodnoty
tedy není možné interpretovat jako skutečná data, která by byla použita při reálném nasazení.

Výstup je vizuálně zobrazen v Tabulce~\ref{tab:color_table}.
Barevná škála je vždy vztažená pouze k dané ztrátě (tedy odpovídajícímu řádku, přes obě tabulky).

I přes zmíněná omezení je ale možné pouhým okem sledovat, že spodní část Tabulky~\ref{tab:color_table},
která obsahuje ztrátové hodnoty popisu od diagnostikovaných pacientů, má dle očekávání celkově vyšší hodnoty ztrát,
což odpovídá předpokladu, že osoby s kognitivní poruchou budou mít větší problém popsat obrázek zobrazující komplexní scénu.
Lze tedy usoudit, že navržený systém funguje očekávaným způsobem a při pečlivém vytvoření kritických vstupních dat lze očekávat,
že výstupní hodnoty budou ještě lépe prezentovat sledované rozdíly v kognitivních schopnostech.

Detailnější testování a analýza reálných, interpretovatelných výsledků je plánována jako součást další budoucí práce, v rámci projektu \projekt.
Pro toto další pokračování je předpokládáno, že budou vytvořena vstupní data (obrázek, referenční popis, gramatika a ztrátová tabulka)
pečlivě lidským expertem a výstupní hodnoty tak bude možné interpretovat v kontextu daného nasazení.

\input{src/colored_table.tex}
